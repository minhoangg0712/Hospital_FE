<div class="forgot-password-container">
  <h2>Quên mật khẩu?</h2>
  <p>Vui lòng nhập thông tin dưới đây để đặt lại mật khẩu của bạn.</p>
  <hr />

  <div class="form-group">
    <label for="username">Tên đăng nhập <span class="required">*</span></label>
    <input
      id="username"
      type="text"
      [value]="username"
      (input)="updateUsername($event)"
      placeholder="Nhập tên đăng nhập"
      required
    />
  </div>

  <div class="form-group">
    <label for="email">Email <span class="required">*</span></label>
    <input
      id="email"
      type="email"
      [value]="email"
      (input)="updateEmail($event)"
      placeholder="Nhập email"
      required
    />
  </div>

  <div class="form-group">
    <label for="newPassword">Mật khẩu mới <span class="required">*</span></label>
    <input
      id="newPassword"
      type="password"
      [value]="newPassword"
      (input)="updateNewPassword($event)"
      placeholder="Nhập mật khẩu mới (≥ 6 ký tự)"
      required
    />
  </div>

  <div class="form-group">
    <label for="confirmPassword">Nhập lại mật khẩu <span class="required">*</span></label>
    <input
      id="confirmPassword"
      type="password"
      [value]="confirmPassword"
      (input)="updateConfirmPassword($event)"
      placeholder="Nhập lại mật khẩu"
      required
    />
  </div>

  <div class="form-group">
    <label for="captcha">Mã xác nhận <span class="required">*</span></label>
    <div class="captcha-section">
      <input
        id="captcha"
        type="text"
        [value]="captchaInput"
        (input)="updateCaptcha($event)"
        placeholder="Nhập mã xác nhận"
        required
      />
      <div class="captcha-box">{{ captchaCode }}</div>
      <button type="button" (click)="refreshCaptcha()" title="Tải lại mã xác nhận">
        <i class="fa-solid fa-repeat"></i>
      </button>
    </div>
  </div>

  <div class="error-message" *ngIf="errorMessage">
    <i class="fas fa-exclamation-circle"></i> {{ errorMessage }}
  </div>

  <div class="success-message" *ngIf="successMessage">
    <i class="fas fa-check-circle"></i> {{ successMessage }}
  </div>

  <button (click)="onSubmit()" class="submit-btn" [disabled]="isLoading">
    <i class="fas fa-spinner fa-spin" *ngIf="isLoading"></i>
    <span *ngIf="!isLoading">Đặt lại mật khẩu</span>
  </button>

  <div class="login-link">
    <a routerLink="/login">
      <i class="fas fa-arrow-left"></i> Quay lại đăng nhập
    </a>
  </div>
</div>