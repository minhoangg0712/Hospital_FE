<div class="container">
  <div class="header">
    <h2><i class="fas fa-file-medical"></i> Tạo hồ sơ bệnh án mới</h2>
  </div>

  <div class="alert alert-danger" *ngIf="errorMessage">
    <i class="fas fa-exclamation-circle"></i> {{errorMessage}}
  </div>

  <form [formGroup]="recordForm" (ngSubmit)="onSubmit()" class="record-form">
    <div class="form-group">
      <label>Tên bệnh nhân</label>
      <input type="text" formControlName="patientName" class="form-control">
    </div>

    <div class="form-group">
      <label>Giới tính</label>
      <select formControlName="gender" class="form-control">
        <option value="">Chọn giới tính</option>
        <option value="Nam">Nam</option>
        <option value="Nữ">Nữ</option>
      </select>
    </div>

    <div class="form-group">
      <label>Địa chỉ</label>
      <input type="text" formControlName="address" class="form-control">
    </div>

    <div class="form-group">
      <label>Số BHYT</label>
      <input type="text" formControlName="insuranceNumber" class="form-control">
    </div>

    <div class="form-group">
      <label>Triệu chứng</label>
      <textarea formControlName="symptoms" class="form-control" rows="3"></textarea>
    </div>

    <div class="form-group">
      <label>Tiền sử bệnh</label>
      <textarea formControlName="medicalHistory" class="form-control" rows="3"></textarea>
    </div>

    <div class="form-group">
      <label>Dị ứng</label>
      <textarea formControlName="allergies" class="form-control" rows="2"></textarea>
    </div>

    <div class="form-group">
      <label>Chẩn đoán</label>
      <textarea formControlName="diagnosis" class="form-control" rows="3"></textarea>
    </div>

    <div class="form-group">
      <label>Kết quả xét nghiệm</label>
      <textarea formControlName="testResults" class="form-control" rows="3"></textarea>
    </div>

    <div class="form-group">
      <label>Đơn thuốc</label>
      <textarea formControlName="prescription" class="form-control" rows="3"></textarea>
    </div>

    <div class="form-group">
      <label>Ghi chú</label>
      <textarea formControlName="notes" class="form-control" rows="2"></textarea>
    </div>

    <div class="form-actions">
      <button type="button" class="btn btn-secondary" routerLink="/medical-records">
        <i class="fas fa-arrow-left"></i> Quay lại
      </button>
      <button type="submit" class="btn btn-primary" [disabled]="!recordForm.valid || isLoading">
        <i class="fas fa-save"></i> 
        <span *ngIf="!isLoading">Lưu hồ sơ</span>
        <span *ngIf="isLoading">Đang lưu...</span>
      </button>
    </div>
  </form>
</div> 