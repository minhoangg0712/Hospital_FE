<div class="container">
  <h2>Quản lý đơn thuốc</h2>

  <form (submit)="savePrescription()">
    <div class="form-group">
      <label for="name">Tên thuốc:</label>
      <input type="text" id="name" [(ngModel)]="newPrescription.name" name="name" required>
    </div>

    <div class="form-group">
      <label for="dosage">Liều lượng:</label>
      <input type="text" id="dosage" [(ngModel)]="newPrescription.dosage" name="dosage" required>
    </div>

    <div class="form-group">
      <label for="quantity">Số lượng:</label>
      <input type="number" id="quantity" [(ngModel)]="newPrescription.quantity" name="quantity" required>
    </div>

    <div class="form-group">
      <label for="usage">Cách dùng:</label>
      <input type="text" id="usage" [(ngModel)]="newPrescription.usage" name="usage" required>
    </div>

    <button type="submit">{{ editIndex === null ? 'Thêm' : 'Cập nhật' }}</button>
    <button type="button" (click)="cancelEdit()" *ngIf="editIndex !== null">Hủy</button>
  </form>

  <h3>Danh sách đơn thuốc</h3>
  <table>
    <thead>
      <tr>
        <th>ID</th>
        <th>Tên thuốc</th>
        <th>Liều lượng</th>
        <th>Số lượng</th>
        <th>Cách dùng</th>
        <th>Hành động</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let prescription of prescriptions; let i = index">
        <td>{{ prescription.id }}</td>
        <td>{{ prescription.name }}</td>
        <td>{{ prescription.dosage }}</td>
        <td>{{ prescription.quantity }}</td>
        <td>{{ prescription.usage }}</td>
        <td>
          <button (click)="editPrescription(i)">Sửa</button>
          <button (click)="deletePrescription(i)">Xóa</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
